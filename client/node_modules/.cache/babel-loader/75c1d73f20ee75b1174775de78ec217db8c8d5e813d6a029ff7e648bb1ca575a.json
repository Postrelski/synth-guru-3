{"ast":null,"code":"var _jsxFileName = \"/Users/mattpostrel/Desktop/Synth-Guru-E-Commerce-Store-main/client/src/pages/Cart.js\";\nimport Navbar from \"../components/Navbar\";\nimport CartItems from \"../components/CartItems\";\nimport Footer from \"../components/Footer\";\nimport Update from \"../components/buttons/Update\";\nimport Checkout from \"../components/buttons/Checkout\";\nimport ContinueShopping from \"../components/buttons/ContinueShopping\";\nimport \"./styles/Cart.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Cart() {\n  // get the array from local storage\n  let products = [];\n  if (localStorage.getItem(\"PRODUCT_ARRAY\")) {\n    products = JSON.parse(localStorage.getItem(\"PRODUCT_ARRAY\"));\n  }\n\n  // remove any 0 or negative values from products\n  for (let i = 0; i < products.length; i++) {\n    if (products[i].quantity <= 0) {\n      // remove this guy\n      console.log(products[i]);\n      products = products.filter(function (el) {\n        return el.id != products[i].id;\n      });\n    }\n  }\n\n  // update the local storage\n  window.localStorage.setItem(\"PRODUCT_ARRAY\", JSON.stringify(products));\n\n  // find the total number of products\n  let total = 0;\n  products.map(x => total += Number(x.quantity) * Number(x.price));\n\n  // Call to backend Stripe API\n  const checkout = async () => {\n    await fetch(\"http://localhost:4000/checkout\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        items: products\n      })\n    }).then(response => {\n      return response.json();\n    }).then(response => {\n      if (response.url) {\n        window.location.assign(response.url); //forwarding user to stripe\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), products.length == 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"empty_cart\",\n      children: \"Looks like your cart is empty!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), products.length == 0 && /*#__PURE__*/_jsxDEV(ContinueShopping, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 32\n    }, this), products.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"class_items_box\",\n      children: products.map(x => /*#__PURE__*/_jsxDEV(CartItems, {\n        id: x.productID,\n        title: x.title,\n        pic_url: x.pic_url,\n        quantity: x.quantity,\n        total: Number(x.quantity) * Number(x.price),\n        href: x.href,\n        image: `pic${x.productID}.png`,\n        price: x.price\n      }, x.productID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), products.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout_box\",\n      children: [/*#__PURE__*/_jsxDEV(Update, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Checkout, {\n        total: total,\n        checkout: checkout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["Navbar","CartItems","Footer","Update","Checkout","ContinueShopping","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","products","localStorage","getItem","JSON","parse","i","length","quantity","console","log","filter","el","id","window","setItem","stringify","total","map","x","Number","price","checkout","fetch","method","headers","body","items","then","response","json","url","location","assign","children","fileName","_jsxFileName","lineNumber","columnNumber","className","productID","title","pic_url","href","image","_c","$RefreshReg$"],"sources":["/Users/mattpostrel/Desktop/Synth-Guru-E-Commerce-Store-main/client/src/pages/Cart.js"],"sourcesContent":["import Navbar from \"../components/Navbar\";\nimport CartItems from \"../components/CartItems\";\nimport Footer from \"../components/Footer\";\nimport Update from \"../components/buttons/Update\";\nimport Checkout from \"../components/buttons/Checkout\";\nimport ContinueShopping from \"../components/buttons/ContinueShopping\";\nimport \"./styles/Cart.css\";\n\nfunction Cart() {\n  // get the array from local storage\n  let products = [];\n  if (localStorage.getItem(\"PRODUCT_ARRAY\")) {\n    products = JSON.parse(localStorage.getItem(\"PRODUCT_ARRAY\"));\n  }\n\n  // remove any 0 or negative values from products\n  for (let i = 0; i < products.length; i++) {\n    if (products[i].quantity <= 0) {\n      // remove this guy\n      console.log(products[i]);\n      products = products.filter(function (el) {\n        return el.id != products[i].id;\n      });\n    }\n  }\n\n  // update the local storage\n  window.localStorage.setItem(\"PRODUCT_ARRAY\", JSON.stringify(products));\n\n  // find the total number of products\n  let total = 0;\n  products.map((x) => (total += Number(x.quantity) * Number(x.price)));\n\n  // Call to backend Stripe API\n  const checkout = async () => {\n    await fetch(\"http://localhost:4000/checkout\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ items: products }),\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((response) => {\n        if (response.url) {\n          window.location.assign(response.url); //forwarding user to stripe\n        }\n      });\n  };\n\n  return (\n    <>\n      <Navbar />\n      {products.length == 0 && (\n        <p className=\"empty_cart\">Looks like your cart is empty!</p>\n      )}\n      {products.length == 0 && <ContinueShopping />}\n      {products.length > 0 && (\n        <div className=\"class_items_box\">\n          {products.map((x) => (\n            <CartItems\n              id={x.productID}\n              key={x.productID}\n              title={x.title}\n              pic_url={x.pic_url}\n              quantity={x.quantity}\n              total={Number(x.quantity) * Number(x.price)}\n              href={x.href}\n              image={`pic${x.productID}.png`}\n              price={x.price}\n            />\n          ))}\n        </div>\n      )}\n\n      {products.length > 0 && (\n        <div className=\"checkout_box\">\n          <Update />\n          <Checkout total={total} checkout={checkout} />\n        </div>\n      )}\n\n      <Footer />\n    </>\n  );\n}\n\nexport default Cart;\n"],"mappings":";AAAA,OAAOA,MAAM,MAAM,sBAAsB;AACzC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,MAAM,MAAM,8BAA8B;AACjD,OAAOC,QAAQ,MAAM,gCAAgC;AACrD,OAAOC,gBAAgB,MAAM,wCAAwC;AACrE,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3B,SAASC,IAAIA,CAAA,EAAG;EACd;EACA,IAAIC,QAAQ,GAAG,EAAE;EACjB,IAAIC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAE;IACzCF,QAAQ,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC;EAC9D;;EAEA;EACA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,QAAQ,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IACxC,IAAIL,QAAQ,CAACK,CAAC,CAAC,CAACE,QAAQ,IAAI,CAAC,EAAE;MAC7B;MACAC,OAAO,CAACC,GAAG,CAACT,QAAQ,CAACK,CAAC,CAAC,CAAC;MACxBL,QAAQ,GAAGA,QAAQ,CAACU,MAAM,CAAC,UAAUC,EAAE,EAAE;QACvC,OAAOA,EAAE,CAACC,EAAE,IAAIZ,QAAQ,CAACK,CAAC,CAAC,CAACO,EAAE;MAChC,CAAC,CAAC;IACJ;EACF;;EAEA;EACAC,MAAM,CAACZ,YAAY,CAACa,OAAO,CAAC,eAAe,EAAEX,IAAI,CAACY,SAAS,CAACf,QAAQ,CAAC,CAAC;;EAEtE;EACA,IAAIgB,KAAK,GAAG,CAAC;EACbhB,QAAQ,CAACiB,GAAG,CAAEC,CAAC,IAAMF,KAAK,IAAIG,MAAM,CAACD,CAAC,CAACX,QAAQ,CAAC,GAAGY,MAAM,CAACD,CAAC,CAACE,KAAK,CAAE,CAAC;;EAEpE;EACA,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMC,KAAK,CAAC,gCAAgC,EAAE;MAC5CC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEtB,IAAI,CAACY,SAAS,CAAC;QAAEW,KAAK,EAAE1B;MAAS,CAAC;IAC1C,CAAC,CAAC,CACC2B,IAAI,CAAEC,QAAQ,IAAK;MAClB,OAAOA,QAAQ,CAACC,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CACDF,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIA,QAAQ,CAACE,GAAG,EAAE;QAChBjB,MAAM,CAACkB,QAAQ,CAACC,MAAM,CAACJ,QAAQ,CAACE,GAAG,CAAC,CAAC,CAAC;MACxC;IACF,CAAC,CAAC;EACN,CAAC;EAED,oBACElC,OAAA,CAAAE,SAAA;IAAAmC,QAAA,gBACErC,OAAA,CAACP,MAAM;MAAA6C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACTrC,QAAQ,CAACM,MAAM,IAAI,CAAC,iBACnBV,OAAA;MAAG0C,SAAS,EAAC,YAAY;MAAAL,QAAA,EAAC;IAA8B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAC5D,EACArC,QAAQ,CAACM,MAAM,IAAI,CAAC,iBAAIV,OAAA,CAACF,gBAAgB;MAAAwC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAC5CrC,QAAQ,CAACM,MAAM,GAAG,CAAC,iBAClBV,OAAA;MAAK0C,SAAS,EAAC,iBAAiB;MAAAL,QAAA,EAC7BjC,QAAQ,CAACiB,GAAG,CAAEC,CAAC,iBACdtB,OAAA,CAACN,SAAS;QACRsB,EAAE,EAAEM,CAAC,CAACqB,SAAU;QAEhBC,KAAK,EAAEtB,CAAC,CAACsB,KAAM;QACfC,OAAO,EAAEvB,CAAC,CAACuB,OAAQ;QACnBlC,QAAQ,EAAEW,CAAC,CAACX,QAAS;QACrBS,KAAK,EAAEG,MAAM,CAACD,CAAC,CAACX,QAAQ,CAAC,GAAGY,MAAM,CAACD,CAAC,CAACE,KAAK,CAAE;QAC5CsB,IAAI,EAAExB,CAAC,CAACwB,IAAK;QACbC,KAAK,EAAG,MAAKzB,CAAC,CAACqB,SAAU,MAAM;QAC/BnB,KAAK,EAAEF,CAAC,CAACE;MAAM,GAPVF,CAAC,CAACqB,SAAS;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQjB,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,EAEArC,QAAQ,CAACM,MAAM,GAAG,CAAC,iBAClBV,OAAA;MAAK0C,SAAS,EAAC,cAAc;MAAAL,QAAA,gBAC3BrC,OAAA,CAACJ,MAAM;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACVzC,OAAA,CAACH,QAAQ;QAACuB,KAAK,EAAEA,KAAM;QAACK,QAAQ,EAAEA;MAAS;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CACN,eAEDzC,OAAA,CAACL,MAAM;MAAA2C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACV,CAAC;AAEP;AAACO,EAAA,GA/EQ7C,IAAI;AAiFb,eAAeA,IAAI;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}